<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Cookie clicker 0.1</h1>
    <img src="button.jpg" id="výdělek" height="200px" width="200px">
    <p></p>
    <strong><div id="penize">Peníze: 0</div></strong>
    <p></p>
    <button id="upgrade">Koupit upgrade za 20</button>
    <div id="upgradeInfo">Nynější výdělek je 1</div>
    <p></p>
    <button id="vyplata">Koupit pasivní příjem za 50</button>
    <div id="vyplataInfo">Nynější pasivní příjem je 0</div>
    <p></p>
    <button id="rebirth" class="rebirth">Koupit rebirth za 100 000</button>
    <p>Nynější multiplace je 1</p>

    <script>
        let r = 1
        let penize = 0;
        let cena = 20;
        let výdělek = 1;
        let upgrade = 1;
        let vyplata = 0;
        let counter = 0;
        let pasivniCena = (counter + 1) * 50;
        let aktivniCena = výdělek * 20;
        let advancement = 100;
        let av = 0;
        let ap = 0;
        let v = 0;
        let p = 0;

        const button = document.getElementById("výdělek");
        const outputDiv = document.getElementById("penize");
        const upgradeButton = document.getElementById("upgrade");
        const vyplataButton = document.getElementById("vyplata");
        const upgradeInfo = document.getElementById("upgradeInfo");
        const vyplataInfo = document.getElementById("vyplataInfo");
        const rebirth = document.getElementById("rebirth")

        button.addEventListener("click", function(){
            penize += ((výdělek + av) * r);
            outputDiv.textContent = "Peníze: " + penize;
            console.log("Button clicked, penize: " + penize);
        });

        upgradeButton.addEventListener("click", function(){
            if(penize >= aktivniCena){
                penize -= aktivniCena;
                výdělek += upgrade;
                aktivniCena = výdělek * 20;
                outputDiv.textContent = "Peníze: " + penize;
                upgradeInfo.textContent = "Nynější výdělek je " + ((výdělek + av) * r);
                upgradeButton.textContent = "Koupit upgrade za " + aktivniCena;
                console.log("Upgrade purchased, penize: " + penize, "výdělek: " + výdělek, "cena: " + aktivniCena);
            }
        });

        vyplataButton.addEventListener("click", function(){
            if(penize >= pasivniCena){
                penize -= pasivniCena;
                vyplata += 1;
                counter++;
                pasivniCena = (counter + 1) * 50;
                outputDiv.textContent = "Peníze: " + penize;
                vyplataInfo.textContent = "Nynější pasivní příjem je " + ((vyplata + ap) * r);
                vyplataButton.textContent = "Koupit pasivní příjem za " + pasivniCena;
                console.log("Passive income purchased, penize: " + penize, "vyplata: " + vyplata, "pasivniCena: " + pasivniCena);
            }
        });

        rebirth.addEventListener("click", function(){
            if(penize >= 100000) {
                penize = 0
                výdělek = 1
                vyplata = 0
                r++;
                cena = 20;
                pasivniCena = 50;
                outputDiv.textContent = "Peníze: " + penize;
                upgradeInfo.textContent = "Nynější příjem je " + ((výdělek + av) * r);
                vyplataInfo.textContent = "Nynější pasivní příjem je " + ((vyplata + ap) * r);
                upgradeButton.textContent = "Koupit upgrade za " + cena
                vyplataButton.textContent = "Koupit pasivní příjem za " + pasivniCena;
            }
        });

        setInterval(function(){
            penize += ((vyplata + ap) * r);
            outputDiv.textContent = "Peníze: " + penize;
            console.log("AFK salary added, penize: " + penize);
        }, 1000)
    
    
        setInterval(function(){if(penize >= advancement){
        alert("Gratuluji, dosáhl jsi skóre " + advancement + " a získal jsi zdvojnásobení všeho výdělku!");
        advancement *= 10;
        ap = vyplata;
        av = výdělek;
        upgradeInfo.textContent = "Nynější výdělek je " + ((výdělek + av) * r);
        vyplataInfo.textContent = "Nynější pasivní příjem je " + ((vyplata + ap) *r);
        }}, 500)

    </script>
</body>
</html>